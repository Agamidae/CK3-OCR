types OCR {
    type window_old_war = widget {
        parentanchor = bottom|hcenter
    	size = { 100% 280 }
        using = vanilla
        allow_outside = yes

        widget = {
            parentanchor = center
            size = { 2250 295 }
            allow_outside = yes

            hbox = {
                widget = {
                    name = "left"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding

                    flowcontainer = {
                        parentanchor = bottom|left

                        ### FADE IN/OUT FROM LEFT ###
                        state = {
                            name = "war_overview_show"
                            next = b
                            position_x = -200
                            alpha = 0
                        }

                        state = {   ####### default ####
                            name = "b"
                            next = "c"
                            duration = 0.25
                            delay = 0.15
                            using = Animation_Curve_Default

                            position_x = 0
                            alpha = 1
                        }

                        state = {
                            name = "c"
                            next = "d"
                            duration = 0.05
                            using = Animation_Curve_Default

                            position_x = -1
                            position_y = -1
                            alpha = 1
                        }

                        state = {  ####### default ####
                            name = "d"
                            duration = 0.25
                            using = Animation_Curve_Default

                            position_x = 0
                            position_y = 0
                            alpha = 1
                        }

                        state = {
                            name = "war_overview_hide"
                            duration = 0.25
                            using = Animation_Curve_Default
                            position_x = -200
                            alpha = 0
                        }

                        ### BOTTOM CORNER BACKGROUND LEFT ###
                        widget = {
                            name = "background_corner_left"
                            size = { 474 280 }

                            background = {
                                using = Background_WarOverview
                                mirror = horizontal
                            }

                            background = {
                                using = Background_WarOverview_Pattern
                                mirror = horizontal
                            }

                            icon = {
                                size = { 100% 100% }
                                using = Background_WarOverview_Frame
                                mirror = horizontal

                                icon = {
                                    position = { 162 -5 }
                                    size = { 20 20 }
                                    texture = "gfx/interface/component_decoration/decoration_arch.dds"
                                    mirror = horizontal
                                }
                            }

                            icon_blood_splatter = {
                                visible = "[LessThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)25' )]"
                                mirror = horizontal
                            }

                            icon_cloth_tears = {
                                visible = "[LessThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)25' )]"
                                mirror = horizontal
                            }
                        }

                        ### BOTTOM RECTANGLE BACKGROUND LEFT ###
                        widget = {
                            name = "background_rectangle_left"
                            size = { 350 280 }

                            background = {
                                using = Background_WarOverview_2
                                mirror = horizontal
                            }

                            background = {
                                using = Background_WarOverview_Pattern_2
                                mirror = horizontal
                            }

                            icon = {
                                size = { 100% 100% }
                                using = Background_WarOverview_Frame_2
                                mirror = horizontal
                            }

                            background = {
                                using = Background_Area_Dark
                                margin_top = -125
                                modify_texture = {
                                    texture = "gfx/interface/component_masks/mask_fade_corner.dds"
                                    blend_mode = alphamultiply
                                }
                            }

                            icon_blood_splatter_2 = {
                                visible = "[LessThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)25' )]"
                                mirror = horizontal
                            }

                            icon_cloth_tears_2 = {
                                visible = "[LessThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)25' )]"
                                mirror = horizontal
                            }
                        }
                    }
                }

                widget = {
                    name = "right"
                    layoutpolicy_horizontal = expanding
                    layoutpolicy_vertical = expanding

                    flowcontainer = {
                        parentanchor = bottom|right

                        state = {
                            name = "war_overview_show"
                            next = b
                            position_x = 200
                            alpha = 0
                        }

                        state = {   ####### default ####
                            name = "b"
                            next = "c"
                            duration = 0.25
                            delay = 0.15
                            using = Animation_Curve_Default

                            position_x = 0
                            alpha = 1
                        }

                        state = {
                            name = "c"
                            next = "d"
                            duration = 0.05
                            using = Animation_Curve_Default

                            position_x = -1
                            position_y = -1
                            alpha = 1
                        }

                        state = {  ####### default ####
                            name = "d"
                            duration = 0.25
                            using = Animation_Curve_Default

                            position_x = 0
                            position_y = 0
                            alpha = 1
                        }

                        state = {
                            name = "war_overview_hide"
                            duration = 0.25
                            using = Animation_Curve_Default
                            position_x = 200
                            alpha = 0
                        }

                        ### BOTTOM RECTANGLE BACKGROUND RIGHT ###
                        widget = {
                            name = "background_rectangle_right"
                            size = { 350 280 }

                            background = {
                                using = Background_WarOverview_2
                            }

                            background = {
                                using = Background_WarOverview_Pattern_2
                            }

                            icon = {
                                size = { 100% 100% }
                                using = Background_WarOverview_Frame_2
                            }

                            background = {
                                using = Background_Area_Dark
                                margin_top = -125
                                mirror = horizontal

                                modify_texture = {
                                    texture = "gfx/interface/component_masks/mask_fade_corner.dds"
                                    blend_mode = alphamultiply
                                }
                            }

                            icon_blood_splatter_2 = {
                                visible = "[GreaterThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)75' )]"
                            }

                            icon_cloth_tears_2 = {
                                visible = "[GreaterThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)75' )]"
                            }
                        }

                        ### BOTTOM CORNER BACKGROUND RIGHT ###
                        widget = {
                            name = "background_corner_right"
                            size = { 474 280 }

                            background = {
                                using = Background_WarOverview
                            }

                            background = {
                                using = Background_WarOverview_Pattern
                            }

                            icon = {
                                size = { 100% 100% }
                                using = Background_WarOverview_Frame

                                icon = {
                                    parentanchor = right
                                    position = { -162 -5 }
                                    size = { 20 20 }
                                    texture = "gfx/interface/component_decoration/decoration_arch.dds"
                                }
                            }

                            icon_blood_splatter = {
                                visible = "[GreaterThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)75' )]"
                            }

                            icon_cloth_tears = {
                                visible = "[GreaterThan_float( WarOverviewWindow.GetProgressbarWarScore, '(float)75' )]"
                            }
                        }
                    }
                }
            }

            hbox = {
                allow_outside = yes

                widget = {
                    name = "left"
                    layoutpolicy_horizontal = expanding
                    layoutstretchfactor_horizontal = 1
                    size = { 0 295 }
                    allow_outside = yes

                    hbox = {
                        allow_outside = yes
                        spacing = 50

                        expand = {
                            layoutpolicy_horizontal = expanding
                        }

                        portrait_war_overview = {
                            datacontext = "[WarOverviewWindow.GetLeftSideLeaderItem]"
                            datacontext = "[WarParticipantItem.GetCharacter]"
                            margin_bottom = 65

                            blockoverride "portrait_button_template_tooltip"
                            {
                                tooltip = "[WarParticipantItem.GetLeaderTooltip]"
                            }

                            state = {
                                name = "war_overview_show"
                                next = b
                                alpha = 0
                            }

                            state = {
                                name = "b"
                                duration = 0.5
                                delay = 0.1
                                alpha = 1
                            }

                            state = {
                                name = "war_overview_hide"
                                duration = 0.3
                                using = Animation_Curve_Default
                                alpha = 0
                            }

                            ### ATTACKERS INFO LEFT ###
                            vbox = {
                                name = "attackers_info_left"
                                margin_bottom = 65
                                maximumsize = { 310 -1 }

                                using = Background_WarOverview_3

                                state = {
                                    name = "war_overview_show"
                                    next = b
                                    position_y = 300
                                    alpha = 0

                                    delay = 0.1
                                }

                                state = {
                                    name = "b"
                                    next = "c"
                                    duration = 0.3
                                    using = Animation_Curve_Default

                                    position_y = -2
                                    alpha = 1
                                }

                                state = {
                                    name = "c"
                                    duration = 0.05
                                    using = Animation_Curve_Default

                                    position_y = 0
                                    alpha = 1
                                }

                                state = {
                                    name = "war_overview_hide"
                                    duration = 0.3
                                    using = Animation_Curve_Default

                                    position_y = 300
                                    alpha = 0
                                }

                                expand = {}

                                hbox = {
                                    layoutpolicy_horizontal = expanding

                                    background = {
                                        using = Text_Label_Background
                                        margin_top = -24
                                        margin_bottom = -15
                                    }

                                    text_single = {
                                        layoutpolicy_horizontal = expanding
                                        text = "[WarOverviewWindow.GetLeftSideHeader]"
                                        default_format = "#high"
                                        using = Font_Size_Big
                                        align = center
                                        autoresize = no
                                        fontsize_min = 14
                                        max_width = 185
                                    }

                                    coa_realm_small_crown = {
                                        datacontext = "[WarOverviewWindow.GetLeftSideLeaderItem]"
                                        datacontext = "[WarParticipantItem.GetCharacter]"
                                    }
                                }

                                vbox = {
                                    layoutpolicy_horizontal = expanding
                                    margin = { 5 0 }

                                    background = {
                                        using = Background_Area_Dark
                                    }

                                    text_single = {
                                        text = "WAR_OVERVIEW_TOTAL_SOLDIERS"
                                        layoutpolicy_horizontal = expanding
                                        align = left
                                        autoresize = no
                                        margin_left = 7
                                    }

                                    hbox = {
                                        layoutpolicy_horizontal = expanding

                                        soldiers_and_quality_small = {
                                            datacontext = "[WarOverviewWindow.GetLeftSideComposition]"
                                        }

                                        expand = {}
                                    }
                                }
                            }
                        }

                        vbox = {
                            layoutpolicy_vertical = expanding

                            state = {
                                name = "war_overview_show"
                                next = b
                                alpha = 0
                            }

                            state = {
                                name = "b"
                                duration = 0.7
                                delay = 0.3
                                alpha = 1
                            }

                            state = {
                                name = "war_overview_hide"
                                duration = 0.3
                                using = Animation_Curve_Default
                                alpha = 0
                            }

                            using = Background_WarOverview_Ally

                            hbox = {
                                visible = "[GetVariableSystem.Exists( 'characterlist_left')]"
                                minimumsize = { 250 160 }
                            }

                            expand = {}

                            ### Multiple participants
                            hbox = {
                                minimumsize = { 250 160 }
                                visible = "[Not(GetVariableSystem.Exists( 'characterlist_left'))]"

                                overlappingitembox = {

                                    datamodel = "[WarOverviewWindow.GetLeftSideMainParticipantItems]"
                                    autoresize = yes

                                    item = {
                                        portrait_shoulders = {
                                            datacontext = "[WarParticipantItem.GetCharacter]"
                                            visible = "[Character.IsValid]"

                                            blockoverride "opinion_box" {}

                                            blockoverride "portrait_button_template_tooltip"
                                            {
                                                tooltip = "[WarParticipantItem.GetParticipantTooltip]"
                                            }

                                        }
                                    }
                                }
                            }

                            ### +Allies ###
                            hbox = {
                                layoutpolicy_horizontal = expanding

                                expand = {}

                                button_group = {
                                    onclick = "[GetVariableSystem.Toggle( 'characterlist_left' )]"
                                    tooltip = "WAR_OVERVIEW_SHOW_ALLIES"

                                    hbox = {
                                        set_parent_size_to_minimum = yes
                                        minimumsize = { 0 30 }
                                        margin = { 5 0 }
                                        spacing = 3

                                        background = {
                                            using = Text_Label_Background
                                            margin = { 5 0 }
                                        }

                                        button_plus_small = {
                                            onclick = "[GetVariableSystem.Toggle( 'characterlist_left' )]"
                                        }

                                        text_single = {
                                            text = "WAR_OVERVIEW_ALLIES_LEFT"
                                            using = Font_Size_Small
                                            align = nobaseline
                                        }
                                    }
                                }
                            }

                            expand = {}
                        }
                    }
                }

                ### EXPANDER FOR CENTER WIDGET ###
                widget = {
                    size = { 790 300 }
                }

                widget = {
                    name = "right"
                    layoutpolicy_horizontal = expanding
                    layoutstretchfactor_horizontal = 1
                    size = { 0 295 }
                    allow_outside = yes

                    hbox = {
                        allow_outside = yes
                        spacing = 50

                        vbox = {
                            layoutpolicy_vertical = expanding

                            state = {
                                name = "war_overview_show"
                                next = b
                                alpha = 0
                            }

                            state = {
                                name = "b"
                                duration = 0.7
                                delay = 0.3
                                alpha = 1
                            }

                            state = {
                                name = "war_overview_hide"
                                duration = 0.3
                                using = Animation_Curve_Default
                                alpha = 0
                            }

                            using = Background_WarOverview_Ally

                            hbox = {
                                visible = "[GetVariableSystem.Exists( 'characterlist_right')]"
                                minimumsize = { 250 160 }
                            }

                            expand = {}

                            ### multiple participants
                            overlappingitembox = {
                                datamodel = "[WarOverviewWindow.GetRightSideMainParticipantItems]"
                                visible = "[Not(GetVariableSystem.Exists( 'characterlist_right'))]"
                                minimumsize = { 250 160 }
                                righttoleft = yes

                                item = {
                                    portrait_shoulders = {
                                        datacontext = "[WarParticipantItem.GetCharacter]"
                                        visible = "[Character.IsValid]"

                                        blockoverride "opinion_box" {}

                                        blockoverride "portrait_button_template_tooltip"
                                        {
                                            tooltip = "[WarParticipantItem.GetParticipantTooltip]"
                                        }


                                    }
                                }
                            }

                            ### +Allies ###
                            hbox = {
                                layoutpolicy_horizontal = expanding

                                button_group = {
                                    onclick = "[GetVariableSystem.Toggle( 'characterlist_right' )]"
                                    tooltip = "WAR_OVERVIEW_SHOW_ALLIES"

                                    hbox = {
                                        set_parent_size_to_minimum = yes
                                        minimumsize = { 0 30 }
                                        margin = { 5 0 }
                                        spacing = 3

                                        background = {
                                            using = Text_Label_Background
                                            margin = { 5 0 }
                                        }

                                        button_plus_small = {
                                            onclick = "[GetVariableSystem.Toggle( 'characterlist_right' )]"
                                        }
                                        text_single = {
                                            text = "WAR_OVERVIEW_ALLIES_RIGHT"
                                            using = Font_Size_Small
                                            align = nobaseline
                                        }
                                    }
                                }

                                expand = {}
                            }

                            expand = {}
                        }

                        portrait_war_overview = {
                            datacontext = "[WarOverviewWindow.GetRightSideLeaderItem]"
                            datacontext = "[WarParticipantItem.GetCharacter]"
                            margin_bottom = 65

                            blockoverride "portrait_transformation"
                            {
                                portrait_scale = { -1 1 }
                                portrait_offset = { 1 0 }
                            }

                            blockoverride "portrait_button_template_tooltip"
                            {
                                tooltip = "[WarParticipantItem.GetLeaderTooltip]"
                            }

                            state = {
                                name = "war_overview_show"
                                next = b
                                alpha = 0
                            }

                            state = {
                                name = "b"
                                duration = 0.5
                                delay = 0.1
                                alpha = 1
                            }

                            state = {
                                name = "war_overview_hide"
                                duration = 0.3
                                using = Animation_Curve_Default
                                alpha = 0
                            }

                            ### DEFENDERS INFO RIGHT ###
                            vbox = {
                                name = "defenders_info_right"
                                margin_bottom = 65
                                maximumsize = { 310 -1 }

                                using = Background_WarOverview_3

                                state = {
                                    name = "war_overview_show"
                                    next = b
                                    position_y = 300
                                    alpha = 0

                                    delay = 0.1
                                }

                                state = {
                                    name = "b"
                                    next = "c"
                                    duration = 0.3
                                    using = Animation_Curve_Default

                                    position_y = -2
                                    alpha = 1
                                }

                                state = {
                                    name = "c"
                                    duration = 0.05
                                    using = Animation_Curve_Default

                                    position_y = 0
                                    alpha = 1
                                }

                                state = {
                                    name = "war_overview_hide"
                                    duration = 0.3
                                    using = Animation_Curve_Default

                                    position_y = 300
                                    alpha = 0
                                }

                                expand = {}

                                hbox = {
                                    layoutpolicy_horizontal = expanding

                                    background = {
                                        using = Text_Label_Background
                                        margin_top = -24
                                        margin_bottom = -15
                                    }

                                    coa_realm_small_crown = {
                                        datacontext = "[WarOverviewWindow.GetRightSideLeaderItem]"
                                        datacontext = "[WarParticipantItem.GetCharacter]"
                                    }

                                    text_single = {
                                        layoutpolicy_horizontal = expanding
                                        text = "[WarOverviewWindow.GetRightSideHeader]"
                                        default_format = "#high"
                                        using = Font_Size_Big
                                        align = center
                                        autoresize = no
                                        fontsize_min = 14
                                        max_width = 185
                                    }

                                    expand = {}
                                }

                                hbox = {
                                    layoutpolicy_horizontal = expanding

                                    background = {
                                        using = Background_Area_Dark
                                    }

                                    widget = {
                                        size = { 55 60 }

                                        icon = {
                                            parentanchor = right|vcenter
                                            name = "icon_strength_balance"
                                            datacontext = "[WarOverviewWindow.GetMilitaryStrengthInfo]"
                                            texture = "gfx/interface/icons/icon_strength_balance.dds"
                                            size = { 60 60 }
                                            framesize = { 60 60 }

                                            frame = "[GuiMilitaryStrength.GetFrame]"

                                            tooltip = "[GuiMilitaryStrength.GetRatioDescription]"
                                            using = tooltip_se
                                        }
                                    }

                                    vbox = {
                                        layoutpolicy_horizontal = expanding

                                        text_single = {
                                            text = "WAR_OVERVIEW_TOTAL_SOLDIERS"
                                            layoutpolicy_horizontal = expanding
                                            align = left
                                            autoresize = no
                                            margin_left = 7
                                        }

                                        hbox = {
                                            layoutpolicy_horizontal = expanding

                                            soldiers_and_quality_small = {
                                                datacontext = "[WarOverviewWindow.GetRightSideComposition]"
                                            }
                                            expand = {}
                                        }
                                    }
                                }
                            }
                        }

                        expand = {}
                    }
                }
            }

            ### MAIN CENTER PANEL ###
            widget = {
                name = "main_center_panel"
                size = { 622 0 }
                allow_outside = yes
                parentanchor = bottom|hcenter
                minimumsize = { 600 315 }

                state = {
                    name = "war_overview_show"
                    next = b
                    position_y = 300
                    alpha = 0
                }

                state = {
                    name = "b"
                    next = "c"
                    duration = 0.3
                    using = Animation_Curve_Default

                    position_y = -5
                    alpha = 1
                }

                state = {
                    name = "c"
                    duration = 0.05
                    using = Animation_Curve_Default

                    position_y = 0
                    alpha = 1
                }

                state = {
                    name = "war_overview_hide"
                    duration = 0.3
                    using = Animation_Curve_Default

                    position_y = 300
                    alpha = 0
                }

                icon = {
                    name = "dust_cloud_left"
                    parentanchor = bottom|left
                    texture = "gfx/interface/component_masks/mask_fade_circle.dds"
                    size = { 180 180 }

                    using = Color_Grey

                    modify_texture = {
                        texture = "gfx/interface/component_masks/mask_clouds.dds"
                        blend_mode = alphamultiply
                        spriteType = corneredTiled
                    }

                    modify_texture = {
                        name = "shimmer"
                        texture = "gfx/interface/component_masks/mask_clouds.dds"
                        blend_mode = alphamultiply
                        spriteType = corneredTiled
                        rotate_uv = 0
                    }

                    modify_texture = {
                        name = "shimmer_2"
                        texture = "gfx/interface/component_masks/mask_clouds.dds"
                        blend_mode = alphamultiply
                        spriteType = corneredTiled
                    }

                    state = {
                        name = "war_overview_show"
                        next = d
                        duration = 0.25

                        delay = 0.1

                        animation = {
                            alpha = 1
                            bezier = { 0 0 0.4 1 }
                        }

                        modify_texture = {
                            name = "shimmer"
                            translate_uv = { -5 0 }
                            alpha = 1
                            rotate_uv = 0
                        }

                        modify_texture = {
                            name = "shimmer_2"
                            translate_uv = { -5 0 }
                            alpha = 0.5
                        }

                        position_x = 0
                    }

                    state = {
                        name = d
                        next = e

                        duration = 0.5
                        using = Animation_Curve_Default

                        animation = {
                            alpha = 0
                            bezier = { 0.6 0 0.7 0.5 }
                        }

                        modify_texture = {
                            name = "shimmer"
                            translate_uv = { -4.3 0 }
                            alpha = 1
                            rotate_uv = 180
                        }

                        modify_texture = {
                            name = "shimmer_2"
                            translate_uv = { -4.3 0 }
                            alpha = 0.3
                        }


                        position_x = -200
                    }

                    state = {
                        name = e

                        duration = 0.01

                        animation = {
                            alpha = 0
                            bezier = { 0.6 0 0.7 0.5 }
                        }

                        modify_texture = {
                            name = "shimmer"
                            translate_uv = { -0.1 0 }
                            alpha = 0
                            rotate_uv = 360
                        }

                        modify_texture = {
                            name = "shimmer_2"
                            translate_uv = { 1 0 }
                            alpha = 0
                        }

                        position_x = 0
                    }
                }

                icon = {
                    name = "dust_cloud_right"
                    parentanchor = bottom|right

                    texture = "gfx/interface/component_masks/mask_fade_circle.dds"
                    size = { 180 180 }

                    using = Color_Grey

                    modify_texture = {
                        texture = "gfx/interface/component_masks/mask_clouds.dds"
                        blend_mode = alphamultiply
                        spriteType = corneredTiled
                    }

                    modify_texture = {
                        name = "shimmer"
                        texture = "gfx/interface/component_masks/mask_clouds.dds"
                        blend_mode = alphamultiply
                        spriteType = corneredTiled
                        rotate_uv = 0
                    }

                    modify_texture = {
                        name = "shimmer_2"
                        texture = "gfx/interface/component_masks/mask_clouds.dds"
                        blend_mode = alphamultiply
                        spriteType = corneredTiled
                    }

                    state = {
                        name = "war_overview_show"
                        next = d
                        duration = 0.25

                        delay = 0.1

                        animation = {
                            alpha = 1
                            bezier = { 0 0 0.4 1 }
                        }

                        modify_texture = {
                            name = "shimmer"
                            translate_uv = { -5 0 }
                            alpha = 1
                            rotate_uv = 0
                        }

                        modify_texture = {
                            name = "shimmer_2"
                            translate_uv = { -5 0 }
                            alpha = 0.5
                        }

                        position_x = 0
                    }

                    state = {
                        name = d
                        next = e

                        duration = 0.5
                        using = Animation_Curve_Default

                        animation = {
                            alpha = 0
                            bezier = { 0.6 0 0.7 0.5 }
                        }

                        modify_texture = {
                            name = "shimmer"
                            translate_uv = { -4.3 0 }
                            alpha = 1
                            rotate_uv = 180
                        }

                        modify_texture = {
                            name = "shimmer_2"
                            translate_uv = { -4.3 0 }
                            alpha = 0.3
                        }


                        position_x = 200
                    }

                    state = {
                        name = e

                        duration = 0.01

                        animation = {
                            alpha = 0
                            bezier = { 0.6 0 0.7 0.5 }
                        }

                        modify_texture = {
                            name = "shimmer"
                            translate_uv = { -0.1 0 }
                            alpha = 0
                            rotate_uv = 360
                        }

                        modify_texture = {
                            name = "shimmer_2"
                            translate_uv = { 1 0 }
                            alpha = 0
                        }

                        position_x = 0
                    }
                }

                icon = {
                    texture = "gfx/interface/window_war/tile_frame_top_war_2.dds"
                    spriteType = Corneredtiled
                    spriteborder = { 100 0 }
                    size = { 724 35 }
                    parentanchor = top|hcenter
                    position = { 0 54 }
                }

                background = {
                    texture = "gfx/interface/component_tiles/tile_window_background_no_edge.dds"
                    spriteType = Corneredtiled
                    spriteborder = { 18 0 }
                    margin = { 18 0 }
                    margin_top = -60
                    texture_density = 2

                    modify_texture = {
                        texture = "gfx/interface/component_overlay/overlay_effect.dds"
                        blend_mode = overlay
                    }
                }

                widget = {
                    parentanchor = bottom|hcenter

                    background = {
                        texture = "gfx/interface/component_tiles/tile_window_background_no_edge.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 18 0 }
                        margin = { -3 0 }
                        texture_density = 2

                        modify_texture = {
                            texture = "gfx/interface/component_overlay/overlay_effect.dds"
                            blend_mode = overlay
                        }
                    }

                    ### FRAME DECORATION TOP ###
                    icon = {
                        visible = "[Not(WarOverviewWindow.IsGreatHolyWar)]"
                        texture = "gfx/interface/window_war/tile_frame_top_war.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 100 0 }
                        size = { 754 22 }
                        parentanchor = top|hcenter
                        position = { -1 -14 }
                    }

                    icon = {
                        name = "tile_frame_top_center_part"
                        texture = "gfx/interface/window_war/tile_frame_top.dds"
                        position = { 0 2 }
                        texture_density = 2

                        parentanchor = top|hcenter
                        widgetanchor = bottom|hcenter
                    }

                    ### GHW ###
                    widget = {
                        name = "title_frame_ghw"
                        visible = "[WarOverviewWindow.IsGreatHolyWar]"
                        size = { 630 80 }
                        using = GHW_Decoration
                        parentanchor = top|hcenter
                        widgetanchor = bottom|hcenter
                    }

                    #### SIDEFRAMES ####
                    ### Right
                    background = {
                        texture = "gfx/interface/component_tiles/tile_frame_subwindow_01.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        margin = { 0 10 }

                        modify_texture = {
                            texture = "gfx/interface/component_masks/mask_fade_horizontal.dds"
                            blend_mode = alphamultiply
                            rotate_uv = 180
                            mirror = horizontal
                        }
                    }

                    background = {
                        texture = "gfx/interface/component_tiles/tile_frame_subwindow_01.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        margin = { 3 10 }

                        modify_texture = {
                            texture = "gfx/interface/component_masks/mask_fade_horizontal.dds"
                            blend_mode = alphamultiply
                            mirror = horizontal
                        }
                    }

                    ### Left
                    background = {
                        name = "frame_border_left"
                        texture = "gfx/interface/component_tiles/tile_frame_subwindow_01.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        margin = { 0 10 }

                        modify_texture = {
                            texture = "gfx/interface/component_masks/mask_fade_horizontal.dds"
                            blend_mode = alphamultiply
                            rotate_uv = 180
                            mirror = horizontal
                        }
                    }

                    background = {
                        name = "frame_border_right"
                        texture = "gfx/interface/component_tiles/tile_frame_subwindow_01.dds"
                        spriteType = Corneredtiled
                        spriteborder = { 20 20 }
                        margin = { 3 10 }

                        modify_texture = {
                            texture = "gfx/interface/component_masks/mask_fade_horizontal.dds"
                            blend_mode = alphamultiply
                            mirror = horizontal
                        }
                    }

                    #### MAIN CENTER PANEL CONTENTS ####
                    vbox = {
                        name = "center_panel_contents"
                        set_parent_size_to_minimum = yes
                        minimumsize = { 620 0 }
                        maximumsize = { 620 0 }
                        margin = { 10 0 }

                        #### WAR OVERVIEW HEADER ####
                        vbox = {
                            name = "war_score_details"
                            layoutpolicy_horizontal = expanding

                            ### CENTER PANEL HEADER ###
                            war_overview_center_panel_header = {}

                            spacer = {
                                size = { 0 15 }
                            }

                            ### CENTER PANEL WAR SCORE DETAILS ###
                            war_overview_center_panel_war_score_details = {}

                            ### CENTER PANEL CONTRIBUTION AS ALLIED ###
                            war_overview_center_panel_contribution_as_allied = {}
                        }

                        spacer = {
                            size = { 10 10 }
                        }

                        ### CENTER PANEL WAR END TERMS ###
                        war_overview_center_panel_war_end_terms = {}

                        ### SURRENDER | WHITE PEACE | ENFORCE DEMANDS ###
                        hbox = {
                            name = "tab_buttons"
                            ignoreinvisible = yes
                            margin = { 5 0 }
                            layoutpolicy_horizontal = expanding

                            button_tab = {
                                name = "defeat_button"
                                layoutpolicy_horizontal = expanding
                                size = { 0 50 }
                                margin_left = 35
                                mirror = vertical

                                text = "TAB_DEFEAT"

                                onclick = "[PdxGuiTriggerAllAnimations('war_end_terms_refresh')]"
                                onclick = "[WarOverviewWindow.SetEffectsTabDefeat]"
                                down = "[WarOverviewWindow.IsEffectsTabDefeat]"

                                war_defeat = {
                                    alwaystransparent = yes
                                    parentanchor = left|vcenter
                                    position = { 10 0 }
                                }
                            }

                            button_tab = {
                                name = "white_peace_button"
                                layoutpolicy_horizontal = expanding
                                size = { 0 50 }
                                visible = "[WarOverviewWindow.GetWar.GetActiveCB.GetType.IsWhitePeacePossible]"
                                margin_left = 35
                                mirror = vertical

                                text = "TAB_WHITE_PEACE"

                                onclick = "[PdxGuiTriggerAllAnimations('war_end_terms_refresh')]"
                                onclick = "[WarOverviewWindow.SetEffectsTabWhitePeace]"
                                down = "[WarOverviewWindow.IsEffectsTabWhitePeace]"

                                war_peace = {
                                    alwaystransparent = yes
                                    parentanchor = left|vcenter
                                    position = { 10 0 }
                                }
                            }

                            button_tab = {
                                name = "victory_button"
                                layoutpolicy_horizontal = expanding
                                size = { 0 50 }
                                margin_left = 35
                                mirror = vertical

                                text = "TAB_VICTORY"

                                onclick = "[PdxGuiTriggerAllAnimations('war_end_terms_refresh')]"
                                onclick = "[WarOverviewWindow.SetEffectsTabVictory]"
                                down = "[WarOverviewWindow.IsEffectsTabVictory]"

                                war_victory = {
                                    alwaystransparent = yes
                                    parentanchor = left|vcenter
                                    position = { 10 0 }
                                }
                            }
                        }
                    }
                }

                #### STATUE LEFT ####
                icon = {
                    name = "statue_left_defender"
                    texture = "gfx/interface/window_war/decoration_defender.dds"
                    visible = "[Not(WarOverviewWindow.IsLeftSideAttacker)]"

                    size = { 120 270}
                    position = { -94 0 }
                    parentanchor = bottom|left
                    widgetanchor = bottom|left
                }

                icon = {
                    name = "statue_left_attacker"
                    texture = "gfx/interface/window_war/decoration_attacker.dds"
                    visible = "[WarOverviewWindow.IsLeftSideAttacker]"
                    mirror = horizontal

                    size = { 120 270}
                    position = { -94 0 }
                    parentanchor = bottom|left
                    widgetanchor = bottom|left
                }

                #### STATUE RIGHT ####
                icon = {
                    name = "statue_right_defender"
                    texture = "gfx/interface/window_war/decoration_attacker.dds"
                    visible = "[Not(WarOverviewWindow.IsLeftSideAttacker)]"

                    size = { 120 270}
                    position = { 94 0 }
                    parentanchor = bottom|right
                    widgetanchor = bottom|right
                }

                icon = {
                    name = "statue_right_attacker"
                    texture = "gfx/interface/window_war/decoration_defender.dds"
                    visible = "[WarOverviewWindow.IsLeftSideAttacker]"
                    mirror = horizontal

                    size = { 120 270}
                    position = { 94 0 }
                    parentanchor = bottom|right
                    widgetanchor = bottom|right
                }
            }
        }

        ### HOSTAGE EXCHANGE CHILD WINDOW ###
        war_overview_exchange_hostage_window = {
        }

        #### ALLIES LIST LEFT ####
        widget = {
            name = "allies_list_left"
            using = Window_Background_Subwindow
            minimumsize = { 420 490 }
            alwaystransparent = no

            position = { -310 0 }
            parentanchor = hcenter
            widgetanchor = right|vcenter

            focuspolicy = click
            visible = "[GetVariableSystem.Exists( 'characterlist_left')]"
            allow_outside = yes

            state = {
                name = _show
                using = Animation_FadeIn_Quick
                on_start = "[GetVariableSystem.Set( 'list_left_open', 'true'  )]"
                position_y = -35
            }

            state = {
                name = _hide
                using = Animation_FadeOut_Quick
                on_start = "[GetVariableSystem.Clear( 'list_left_open' )]"
                position_y = 50
            }

            state = {
                name = "ally_list_hide"
                using = Animation_FadeOut_Quick
                on_start = "[GetVariableSystem.Clear( 'list_left_open' )]"
                position_y = 50
            }

            vbox = {
                margin = { 4 4 }

                header_pattern = {
                    layoutpolicy_horizontal = expanding

                    blockoverride "header_text"
                    {
                        text = "[WarOverviewWindow.GetLeftSideAlliesHeader]"
                    }

                    blockoverride "button_close"
                    {
                        onclick = "[GetVariableSystem.Clear( 'characterlist_left')]"
                    }
                }

                scrollbox = {
                    name = "characters_scroll_area"
                    layoutpolicy_vertical = expanding
                    layoutpolicy_horizontal = expanding

                    blockoverride "scrollbox_content" {
                        vbox = {
                            layoutpolicy_horizontal = expanding

                            datamodel = "[WarOverviewWindow.GetLeftSideParticipantItems]"

                            item = {

                                hbox = {
                                    layoutpolicy_horizontal = expanding

                                    portrait_head_small = {
                                        datacontext = "[WarParticipantItem.GetCharacter]"
                                        blockoverride "opinion_box" {}
                                        blockoverride "portrait_button_template_tooltip"
                                        {
                                            tooltip = "[WarParticipantItem.GetParticipantTooltip]"
                                        }
                                    }

                                    vbox = {
                                        layoutpolicy_vertical = growing
                                        layoutpolicy_horizontal = expanding
                                        margin = { 10 5 }

                                        background = {
                                            using = Background_Area_With_Header
                                        }

                                        text_single = {
                                            text = "[WarParticipantItem.GetCharacter.GetName]"
                                            layoutpolicy_horizontal = expanding
                                            align = left
                                            autoresize = no
                                        }

                                        hbox = {
                                            layoutpolicy_horizontal = expanding
                                            layoutpolicy_vertical = growing

                                            soldiers_and_quality_small = {
                                                datacontext = "[WarParticipantItem.GetComposition]"
                                            }

                                            expand = {
                                                layoutpolicy_vertical = growing
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }

        #### ALLIES LIST RIGHT ####
        widget = {
            name = "allies_list_right"
            using = Window_Background_Subwindow
            minimumsize = { 420 490 }
            alwaystransparent = no

            position = { 310 -50 }
            parentanchor = hcenter
            widgetanchor = left|vcenter

            focuspolicy = click
            visible = "[GetVariableSystem.Exists( 'characterlist_right')]"
            allow_outside = yes

            state = {
                name = _show
                using = Animation_FadeIn_Quick
                on_start = "[GetVariableSystem.Set( 'list_right_open', 'true'  )]"
                position_y = -35
            }

            state = {
                name = _hide
                using = Animation_FadeOut_Quick
                on_start = "[GetVariableSystem.Clear( 'list_right_open' )]"
                position_y = 50
            }

            state = {
                name = "ally_list_hide"
                using = Animation_FadeOut_Quick
                on_start = "[GetVariableSystem.Clear( 'list_right_open' )]"
                position_y = 50
            }

            vbox = {
                margin = { 4 4 }

                header_pattern = {
                    layoutpolicy_horizontal = expanding

                    blockoverride "header_text"
                    {
                        text = "[WarOverviewWindow.GetRightSideAlliesHeader]"
                    }

                    blockoverride "button_close"
                    {
                        onclick = "[GetVariableSystem.Clear( 'characterlist_right')]"
                    }
                }

                scrollbox = {
                    name = "characters_scroll_area"
                    layoutpolicy_vertical = expanding
                    layoutpolicy_horizontal = expanding

                    blockoverride "scrollbox_content" {
                        vbox = {
                            datamodel = "[WarOverviewWindow.GetRightSideParticipantItems]"
                            layoutpolicy_horizontal = expanding

                            item = {
                                hbox = {
                                    layoutpolicy_horizontal = expanding

                                    portrait_head = {
                                        datacontext = "[WarParticipantItem.GetCharacter]"
                                        blockoverride "opinion_box" {}
                                        blockoverride "portrait_button_template_tooltip"
                                        {
                                            tooltip = "[WarParticipantItem.GetParticipantTooltip]"
                                        }
                                    }

                                    vbox = {
                                        layoutpolicy_horizontal = expanding
                                        layoutpolicy_vertical = growing
                                        margin = { 10 5 }

                                        background = {
                                            using = Background_Area_With_Header
                                        }

                                        text_single = {
                                            text = "[WarParticipantItem.GetCharacter.GetName]"
                                            autoresize = no
                                            layoutpolicy_horizontal = expanding
                                            align = left
                                        }

                                        hbox = {
                                            layoutpolicy_horizontal = expanding
                                            layoutpolicy_vertical = growing

                                            soldiers_and_quality_small = {
                                                datacontext = "[WarParticipantItem.GetComposition]"
                                            }

                                            expand = {
                                                layoutpolicy_vertical = growing
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}